{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emeka/Desktop/waste-to-energy-dashboard%20%282%29/app/api/submit/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { z } from \"zod\";\r\n\r\n// This will act as our in-memory \"database\" for this example.\r\nconst submissions: any[] = [];\r\n\r\nconst submissionSchema = z.object({\r\n  lga: z.string().min(1, \"LGA is required.\"),\r\n  tons: z.number().positive(\"Tonnage must be a positive number.\"),\r\n  date: z.string().min(1, \"Date is required.\"),\r\n  pspOperator: z.string(),\r\n  wasteType: z.string(),\r\n});\r\n\r\nexport async function POST (request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n    const newSubmission = submissionSchema.parse(body);\r\n    const data = { ...newSubmission, id: `sub-${Date.now()}`, energyKWh: newSubmission.tons * 650, carbonCredits: newSubmission.tons * 0.42 };\r\n    submissions.push(data);\r\n    return NextResponse.json({ message: \"Submission successful!\", data }, { status: 201 });\r\n  } catch (error) {\r\n    return NextResponse.json({ message: \"Invalid data submitted.\", error }, { status: 400 });\r\n  }\r\n}\r\n\r\nexport async function GET () {\r\n    return NextResponse.json({ submissions });\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,8DAA8D;AAC9D,MAAM,cAAqB,EAAE;AAE7B,MAAM,mBAAmB,0QAAC,CAAC,MAAM,CAAC;IAChC,KAAK,0QAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACvB,MAAM,0QAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,MAAM,0QAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,0QAAC,CAAC,MAAM;IACrB,WAAW,0QAAC,CAAC,MAAM;AACrB;AAEO,eAAe,KAAM,OAAgB;IAC1C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,gBAAgB,iBAAiB,KAAK,CAAC;QAC7C,MAAM,OAAO;YAAE,GAAG,aAAa;YAAE,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;YAAE,WAAW,cAAc,IAAI,GAAG;YAAK,eAAe,cAAc,IAAI,GAAG;QAAK;QACxI,YAAY,IAAI,CAAC;QACjB,OAAO,8TAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAA0B;QAAK,GAAG;YAAE,QAAQ;QAAI;IACtF,EAAE,OAAO,OAAO;QACd,OAAO,8TAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAA2B;QAAM,GAAG;YAAE,QAAQ;QAAI;IACxF;AACF;AAEO,eAAe;IAClB,OAAO,8TAAY,CAAC,IAAI,CAAC;QAAE;IAAY;AAC3C"}}]
}